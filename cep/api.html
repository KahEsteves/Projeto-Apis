<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css" />
    <link href="https://fonts.googleapis.com/css2?family=Roboto&display=swap" rel="stylesheet">
    <title>API-CEP</title>
</head>

<body>
    <!--Navbar-->

    <navbar id="navbar">
        <div class="navbar-container">
            <img src="imagens/logo (2).png" alt="" class="logo" />
            <ul class="navbar-items">
                <a href="https://br.tradingview.com/chart/?symbol=FX_IDC%3AUSDBRL">
                    <li class="navbar-item">Crescimento do dólar</li>
                </a>
                <a
                    href="https://www.google.com/finance/quote/BTC-BRL?sa=X&ved=2ahUKEwji8ZiYn-r8AhVlIrkGHfcAAuIQ-fUHegQICRAf">
                    <li class="navbar-item">Bitcoin</li>
                </a>
                <a href="api.html">
                    <li class="navbar-item">CEP</li>
                </a>
                <a href="">
                    <li class="navbar-item">Ajuda</li>
                </a>
                <a href="">
                    <li class="navbar-item">Entrar</li>
                </a>
            </ul>
        </div>
    </navbar>

    <div id="showcase1">

        <div class="box">
            <form action="">
                <h1>CONFIRA: API - CEP</h1>
                <br><br>
                <fieldset>
                    <legend class="titulo">Cadastre seus dados</legend>
                    <br>
                    <div class="inputBox">
                        <label for="cep">CEP:</label>
                        <input type="text" id="cep" class="inputUser" autocomplete="off">
                    </div> <br><br>

                    <div class="inputBox">
                        <label for="rua">Rua:</label>
                        <input type="text" id="rua" class="inputUser" readonly>
                    </div> <br><br>

                    <div class="inputBox">
                        <label for="numero">Número:</label>
                        <input type="text" id="numero" class="inputUser">
                    </div> <br><br>

                    <div class="inputBox">
                        <label for="bairro">Bairro</label>
                        <input type="text" id="bairro" class="inputUser" readonly>
                    </div> <br><br>


                    <div class="inputBox">
                        <label for="cidade">Cidade:</label>
                        <input type="text" id="cidade" class="inputUser" readonly>
                    </div>
                    <br><br>

                    <div class="inputBox">
                        <label for="estado">Estado:</label>
                        <input type="text" id="estado" class="inputUser" readonly>
                    </div>
                    <br><br>

                </fieldset>
            </form>
        </div>
        <br>
    </div>




</body>
<script>
    //preencher os inputs com arrow functions
    const preencherFormulario = (endereco) => {
        document.getElementById("rua").value = endereco.logradouro;
        document.getElementById("bairro").value = endereco.bairro;
        document.getElementById("cidade").value = endereco.localidade;
        document.getElementById("estado").value = endereco.uf;
    }
    //autopreenchimento
    const cepValido = (cep) => {
        if (cep.length == 8) {
            return true;
        } else {
            return false;
        }
    }
    //buscar API
    //Com async e await podemos trabalhar com código assíncrono em um estilo mais parecido com o bom e velho código síncrono.
    const pesquisarCep = async () => {
        const cep = document.getElementById("cep").value;
        const url = `http://viacep.com.br/ws/${cep}/json/`;
        if (cepValido(cep)) {
            const dados = await fetch(url);
            const endereco = await dados.json();
            preencherFormulario(endereco);
        }
    }
    document.getElementById("cep").addEventListener("focusout", pesquisarCep);
</script>
<!-- Footer-->
<footer id="footer">
    <div class="footer-content">
        <img src="imagens/logo.png" alt="" class="logo">
        <ul class="footer-menu">
            <p>Empresa</p>
            <li class="footer-menu-item">
                Sobre
            </li>
            <li class="footer-menu-item">
                Empregos
            </li>
            <li class="footer-menu-item">
                For the records
            </li>
        </ul>

        <ul class="footer-menu">
            <p>Comunidades</p>
            <li class="footer-menu-item">
                Desenvolvedores
            </li>
            <li class="footer-menu-item">
                Marcas
            </li>
            <li class="footer-menu-item">
                Inverstidores
            </li>
            <li class="footer-menu-item">
                Fornecedores
            </li>
        </ul>

        <ul class="footer-menu">
            <p>Links úteis</p>
            <li class="footer-menu-item">
                Ajuda
            </li>
            <li class="footer-menu-item">
                Aplicativo móvel Grátis
            </li>
        </ul>

        <div class="socials">

            <i class="fa-brands fa-instagram"></i>
            <i class="fa-brands fa-twitter"></i>
            <i class="fa-brands fa-facebook"></i>

        </div>

    </div>
</footer>

<!-- Scripts -->

<script src="https://kit.fontawesome.com/41c67a60df.js" crossorigin="anonymous"></script>

</body>

</html>